// tinymce.PluginManager.requireLangPack("monaco"),
tinymce.PluginManager.add("monaco", function(n, t) {
  function o() {
    n.focus(),
      n.selection.collapse(!0),
      n.settings.monaco.saveCursorPosition &&
        n.selection.setContent(
          '<span style="display: none;" class="CmCaReT">&#x0;</span>'
        );
    var o = {
        title: "HTML source code",
        size: "large", //width,heigth not work
        body: {
          type: "panel",
          items: [
            {
              type: "htmlpanel",
              html:
                "<iframe id='__mce_monaco' style='width:100%;height:100%;border:0' src='/_Admin/Scripts/components/tinymceMonaco/source.html'></iframe>"
            }
          ]
        },
        resizable: !0,
        maximizable: !0,
        fullScreen: n.settings.monaco.fullscreen,
        buttons: [
          {
            type: "cancel",
            text: "Close",
            onclick: "close"
          },
          {
            type: "submit",
            text: "Save",
            primary: true
          }
        ],
        onSubmit: function(e) {
          var win = document.getElementById("__mce_monaco").contentWindow;
          win.submit();
          e.close();
        }
      },
      e = n.windowManager.open(o);
    n.settings.monaco.fullscreen && e.fullscreen(!0);
  }
  n.ui.registry.addButton("code", {
    title: "Source code",
    icon: "sourcecode",
    onAction: o
  }),
    n.ui.registry.addMenuItem("code", {
      icon: "sourcecode",
      text: "Source code",
      context: "tools",
      onAction: o
    });
});
