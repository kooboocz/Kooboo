<!-- #layout name=blank --sideType='market'-->

<div class="page-header">
    <h1 class="title">Discussions</h1>
</div>
<div data-bind="component: { name: 'kb-breadcrumb', params:[{
    name: 'MARKET'
},{
    name: Kooboo.text.common.Discussions
}]}"></div>

<div class="navbar navbar-default">
    <div class="container-fluid">
        <a class="btn green navbar-btn" data-bind="click: onCreateDiscussion">New discussion</a>
    </div>
</div>

<div data-bind="component: { name: 'kb-table', params: tableData }"></div>
<div data-bind="component: { name: 'kb-pager', params: pager }"></div>
<div data-bind="component: { name: 'discussion-modal', params: {
    isShow: showDiscussionModal
}}"></div>

<script>
    (function() {
        Kooboo.loadJS([
            "/_Admin/Scripts/tableModel.js",
            "/_Admin/Scripts/components/kbTable.js",
            "/_Admin/Scripts/components/kbPager.js",
            "/_Admin/Scripts/components/kbBreadcrumb.js",
            "/_Admin/Scripts/lib/tinymce/tinymceInitPath.js",
            "/_Admin/Scripts/lib/tinymce/tinymce.min.js",
            "/_Admin/Scripts/kobindings.richeditor.js",
            "/_Admin/Scripts/kobindings.textError.js",
            "/_Admin/View/Market/Scripts/components/DiscussionModal.js"
        ])
    })()
</script>
<script src="/_Admin/View/Market/Scripts/Kooboo.Market.js"></script>
<script src="/_Admin/View/Market/Discussion/Index.js"></script>